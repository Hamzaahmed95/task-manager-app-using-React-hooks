(this.webpackJsonptask_manager_app_using_react_hooks=this.webpackJsonptask_manager_app_using_react_hooks||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(1),s=a.n(c),o=a(16),i=a.n(o),r=(a(94),a(72)),l=a(73),d=a(80),j=a(78),u=(a(95),a(17)),b=a(155),f=a(159),h=a(160),m=a(161),p=a(169),O=(a(96),a(45)),x=a(18),g=a(168),k=Object(b.a)((function(e){return{root:{border:"1px solid #e2e2e1",overflow:"hidden",borderRadius:4,backgroundColor:"#fcfcfb",transition:e.transitions.create(["border-color","box-shadow"]),"&:hover":{backgroundColor:"#fff"},"&$focused":{backgroundColor:"#fff",boxShadow:"".concat(Object(x.b)(e.palette.primary.main,.25)," 0 0 0 2px"),borderColor:e.palette.primary.main}},focused:{}}})),v=function(e){var t=k();return Object(n.jsx)(g.a,Object(O.a)({type:e.type,InputProps:{classes:t,disableUnderline:!0}},e))},C=a(21),S="token",y="username",T="userID",_="isCompleted",N="tasks",I="task",E=function(e){var t=Object(c.useState)(""),a=Object(u.a)(t,2),s=a[0],o=a[1],i=Object(c.useState)(""),r=Object(u.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)(""),b=Object(u.a)(j,2),f=b[0],h=b[1],m=Object(c.useState)(""),O=Object(u.a)(m,2),x=O[0],g=O[1];Object(c.useEffect)((function(){e.isEdit&&d(e.taskItem)}),[]);return Object(n.jsx)("div",{className:"input_container",align:"center",children:e.modal?Object(n.jsx)(n.Fragment,{children:e.isEdit?Object(n.jsxs)("div",{children:[Object(n.jsx)(v,{label:"Task Name",type:"text",defaultValue:e.taskItem,onChange:function(e){return function(e){d(e.target.value),console.log(l)}(e)},variant:"filled"}),Object(n.jsx)(p.a,{onClick:function(){C.a.database().ref(N).orderByChild(I).equalTo(e.taskItem).once("value",(function(e){e.forEach((function(e){e.ref.child(I).set(l)}))}))},variant:"contained",className:"submitButton",disabled:!l,children:"Edit Task"})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(v,{label:"Task Name",type:"text",defaultValue:s,onChange:function(e){return function(e){o(e.target.value),console.log(s)}(e)},variant:"filled"}),Object(n.jsx)(p.a,{onClick:function(){var t={userID:localStorage.getItem(y),task:s,isCompleted:0};C.a.database().ref(N).push().set(t).then((function(t){console.log(t),e.handleSubmit()})).catch((function(e){console.log(e)}))},variant:"contained",className:"submitButton",disabled:!s,children:"Add Task"})]})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v,{type:"text",label:"Id",defaultValue:f,onChange:function(e){return function(e){h(e.target.value)}(e)},variant:"filled"}),Object(n.jsx)(v,{type:"text",label:"Name",defaultValue:x,onChange:function(e){return function(e){g(e.target.value)}(e)},variant:"filled"}),Object(n.jsx)(p.a,{onClick:function(t){return e.handleUserSubmit(f,x)},variant:"contained",className:"submitButton",disabled:!f||!x,children:e.text})]})})},B=Object(b.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),L=function(e){var t=B();return Object(n.jsx)(f.a,{className:t.root,children:Object(n.jsxs)(h.a,{children:[Object(n.jsx)(m.a,{variant:"h5",component:"h2",children:"LOGIN"}),Object(n.jsx)(E,{handleUserSubmit:e.handleUserSubmit,modal:!1,text:"submit"}),e.errorLoggedIn&&Object(n.jsx)("span",{style:{color:"red",fontSize:"15px"},children:e.errorMessage})]})})},w=(a(105),a(106),a(79)),z=a(163),q=a(164),A=a(166),U=a(162),F=a(165),P=a(119),D=a(77),V=a.n(D),W=a(81),R=a(170),H=a(171),M=a(64),Y=a(75),G=a.n(Y),J=a(76),K=a.n(J),Q=(a(107),Object(b.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{backgroundColor:"#5285ec",width:"100%"}}}))),X=s.a.forwardRef((function(e,t){var a=e.in,c=e.children,s=e.onEnter,o=e.onExited,i=Object(W.a)(e,["in","children","onEnter","onExited"]),r=Object(M.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&s&&s()},onRest:function(){!a&&o&&o()}});return Object(n.jsx)(M.animated.div,Object(O.a)(Object(O.a)({ref:t,style:r},i),{},{children:c}))})),Z=function(e){var t=Q(),a=s.a.useState(!1),c=Object(u.a)(a,2),o=c[0],i=c[1],r=function(){i(!0)};return Object(n.jsxs)("div",{children:[e.isEdit?Object(n.jsx)("div",{onClick:r,children:Object(n.jsx)(K.a,{})}):Object(n.jsx)(p.a,{variant:"contained",color:"primary",onClick:r,className:t.button,startIcon:Object(n.jsx)(G.a,{}),children:"New Task"}),Object(n.jsx)(R.a,{"aria-labelledby":"spring-modal-title","aria-describedby":"spring-modal-description",className:t.modal,open:o,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:H.a,BackdropProps:{timeout:500},children:Object(n.jsx)(X,{in:o,children:Object(n.jsx)("div",{className:t.paper,children:Object(n.jsx)(E,{modal:!0,text:"new Task",taskItem:e.taskItem,handleSubmit:function(){i(!1)},isEdit:e.isEdit})})})})]})},$=(a(113),function(e){var t=Object(c.useState)([]),a=Object(u.a)(t,2),s=a[0],o=a[1];return Object(n.jsx)("div",{className:"task_list_container",children:Object(n.jsx)(U.a,{component:P.a,children:Object(n.jsx)(z.a,{className:"table_width","aria-label":"simple table",children:Object(n.jsx)(q.a,{children:e.data.map((function(t){return Object(n.jsxs)(F.a,{children:[Object(n.jsxs)(A.a,{component:"th",style:{color:"#5285ec",fontWeight:"400",fontFamily:"adobe-clean, sans-serif",fontSize:"16px"},scope:"row",children:[Object(n.jsx)("input",{onChange:(a=t.task,function(){var t=s.indexOf(a),n=Object(w.a)(s);-1===t?(n.push(a),e.setCompleteTask(a,1)):(e.setCompleteTask(a,0),n.splice(t,1)),o(n)}),type:"checkbox",className:"mr-2"}),console.log("TaskLists: "+t.isCompleted),1===t.isCompleted?Object(n.jsx)("del",{children:t.task}):t.task]}),Object(n.jsx)(A.a,{align:"right",children:Object(n.jsx)(Z,{isEdit:!0,taskItem:t.task})}),Object(n.jsx)(A.a,{onClick:function(){return e.removeTask(t.task)},align:"right",children:Object(n.jsx)(V.a,{})})]},t.task);var a}))})})})})}),ee=(a(114),function(e){return Object(n.jsxs)("div",{className:"search_task_container",children:[Object(n.jsx)("div",{children:Object(n.jsx)("p",{style:{color:"#808080",fontWeight:"bold",fontSize:"18px",paddingTop:"10px",paddingBottom:"20px"},children:N})}),Object(n.jsx)("div",{className:"search_task_main_container",children:Object(n.jsxs)("div",{className:"search_task_subcontainer",children:[Object(n.jsx)("div",{className:"search_task_subcontainer_first",children:Object(n.jsx)(v,{className:"search_task_input",type:"text",label:"Search by task name",defaultValue:"",onChange:e.handleChange,variant:"filled"})}),Object(n.jsx)("div",{className:"search_task_subcontainer_second",children:Object(n.jsx)(Z,{isEdit:!1})})]})})]})}),te=(a(115),a(46)),ae=function(e){return Object(n.jsxs)(te.c,{size:"150px",children:[Object(n.jsx)(te.a,{color:"grey",name:"",children:e.totalTasks}),Object(n.jsxs)(te.a,{color:"#5688ED",name:"",children:[e.totalTasks-e.totalTaskCompleted,"}"]}),Object(n.jsxs)(te.b,{style:{fontSize:"9px"},children:[(e.totalTaskCompleted/e.totalTasks*100).toFixed(2),"% completed Task"]})]})},ne=function(e){return Object(n.jsxs)("div",{className:"task_description_container",children:[Object(n.jsxs)(f.a,{align:"left",className:"task_description_card1",children:[Object(n.jsx)("span",{style:{color:"grey",fontSize:"22px"},children:"Task Completed "}),Object(n.jsx)("br",{}),Object(n.jsxs)("span",{style:{color:"#5285EC",fontSize:"70px"},children:[e.totalTaskCompleted,Object(n.jsxs)("span",{style:{fontSize:"25px",color:"grey"},children:["/",e.totalTasks]})]})]}),Object(n.jsxs)(f.a,{align:"left",className:"task_description_card2",children:[Object(n.jsx)("span",{style:{color:"grey",fontSize:"22px"},children:"Latest Created Tasks"}),e.recentTaskList.map((function(e){return Object(n.jsx)("div",{keys:e,children:e.isCompleted?Object(n.jsx)("del",{children:Object(n.jsx)("li",{style:{color:"grey",fontSize:"12px"},children:e.task})}):Object(n.jsx)("li",{style:{color:"grey",fontSize:"14px",paddingTop:"5px"},children:e.task})})}))]}),Object(n.jsx)(f.a,{className:"task_description_card3",children:Object(n.jsx)(ae,{totalTaskCompleted:e.totalTaskCompleted,totalTasks:e.totalTasks,align:"center"})})]})},ce=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],o=Object(c.useState)([]),i=Object(u.a)(o,2),r=i[0],l=i[1],d=Object(c.useState)([]),j=Object(u.a)(d,2),b=j[0],f=j[1],h=Object(c.useState)(0),m=Object(u.a)(h,2),p=m[0],O=m[1],x=Object(c.useState)(0),g=Object(u.a)(x,2),k=g[0],v=g[1];Object(c.useEffect)((function(){C.a.database().ref(N).orderByChild(T).equalTo(localStorage.getItem(y)).on("value",(function(e){O(0),v(0);var t=[];e.exists()&&(e.forEach((function(e){v((function(e){return e+1})),1===e.child(_).val()&&O((function(e){return e+1})),t.push(e.val())})),s(t),f(t))}))}),[]),Object(c.useEffect)((function(){C.a.database().ref(N).orderByChild(T).equalTo(localStorage.getItem(y)).limitToLast(3).on("value",(function(e){var t=[];e.exists()&&(e.forEach((function(e){t.push(e.val())})),l(t))}))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(ne,{totalTasks:k,totalTaskCompleted:p,recentTaskList:r}),Object(n.jsx)(ee,{handleChange:function(e){var t=e.target.value;f(a.filter((function(e){return e.task.toUpperCase().includes(t.toUpperCase())})))}}),Object(n.jsx)($,{setCompleteTask:function(e,t){C.a.database().ref(N).orderByChild(I).equalTo(e).once("value",(function(e){e.forEach((function(e){e.ref.child(_).set(t)}))}))},data:b,removeTask:function(e){C.a.database().ref(N).orderByChild(I).equalTo(e).once("value").then((function(e){e.forEach((function(e){e.ref.remove()}))}))}})]})},se=Object(b.a)((function(){return{root:{minWidth:275,marginTop:100}}})),oe=function(){var e=se();return Object(n.jsx)(f.a,{className:e.root,children:Object(n.jsxs)(h.a,{children:[Object(n.jsx)(m.a,{variant:"h6",component:"h2",children:"You have no task"}),Object(n.jsx)(Z,{isEdit:!1})]})})},ie=function(e){return console.log("main: "+e.isTaskAdded),Object(n.jsx)("div",{children:e.isTaskAdded?Object(n.jsx)(ce,{}):Object(n.jsx)(oe,{})})},re=a(167),le=(a(116),function(e){return Object(n.jsxs)("div",{className:"Header",children:[Object(n.jsx)("p",{className:"para",children:e.username}),Object(n.jsx)(p.a,{onClick:e.logoutSubmit,className:"logout_btn",color:"primary",children:"Logout"})]})}),de=function(e){var t=Object(c.useState)(!1),a=Object(u.a)(t,2),s=a[0],o=a[1],i=Object(c.useState)(!1),r=Object(u.a)(i,2),l=r[0],d=r[1];return Object(c.useEffect)((function(){C.a.database().ref(N).orderByChild(T).equalTo(localStorage.getItem(y)).once("value",(function(e){setTimeout((function(){o(!0)}),2e3),console.log("loading: "+e.exists()),e.exists()&&d(!0)})),C.a.database().ref(N).orderByChild(T).equalTo(localStorage.getItem(y)).on("value",(function(e){e.exists()&&d(!0)}))}),[]),Object(n.jsxs)("div",{className:"Loading",children:[Object(n.jsx)(le,{logoutSubmit:e.logoutSubmit,username:e.username}),Object(n.jsx)("header",{className:"Loading-header",children:s?Object(n.jsx)("div",{className:"progress_bar",align:"center",children:Object(n.jsx)(ie,{isTaskAdded:l})}):Object(n.jsx)("div",{className:"progress_bar",align:"center",children:Object(n.jsx)(re.a,{className:"progress_barColor",color:"primary"})})})]})},je=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],s=t[1],o=Object(c.useState)(!1),i=Object(u.a)(o,2),r=i[0],l=i[1],d=Object(c.useState)(""),j=Object(u.a)(d,2),b=j[0],f=j[1],h=Object(c.useState)(""),m=Object(u.a)(h,2),p=m[0],O=m[1];Object(c.useEffect)((function(){null!==localStorage.getItem(S)?(s(!0),O(localStorage.getItem(y))):s(!1)}),[]);return Object(n.jsx)("div",{className:"AppComponent",children:a?Object(n.jsx)(de,{logoutSubmit:function(){localStorage.removeItem(S),localStorage.removeItem(y),s(!1)},username:p}):Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)(L,{errorLoggedIn:r,errorMessage:b,handleUserSubmit:function(e,t){C.a.database().ref("users").orderByChild("apiKey").equalTo(e).once("value").then((function(e){e.exists()?e.forEach((function(e){e.child(y).val().toUpperCase()===t.toUpperCase()?(O(e.child(y).val()),l(!1),s(!0),localStorage.setItem(S,e.child(S).val()),localStorage.setItem(y,e.child(y).val())):(f("username is invalid"),l(!0))})):(l(!0),f("id is invalid"))}))}})})})},ue=a(56),be={apiKey:"AIzaSyCnqT1TZ03PydLHtQWmgqeEm74EoqY_ewY",authDomain:"tdcx-9c9e8.firebaseapp.com",databaseURL:"https://tdcx-9c9e8-default-rtdb.firebaseio.com",projectId:"tdcx-9c9e8",storageBucket:"tdcx-9c9e8.appspot.com",messagingSenderId:"180148505495",appId:"1:180148505495:web:5ced8472e82d2a9f8812d2",measurementId:"G-2FXTHSPLSE"},fe=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(r.a)(this,a),n=t.call(this,e),ue.a.apps.length?ue.a.app():ue.a.initializeApp(be),n}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(je,{})})}}]),a}(c.Component),he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,173)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(fe,{})}),document.getElementById("root")),he()},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.e2ddf9df.chunk.js.map